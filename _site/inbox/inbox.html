<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>MarketingCloudSDK iOS (v5.0.0) : Inbox</title>
        <meta name="description" content="">

        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class=row-fluid>
                <div id=header class=span12>
                    <h4><a class=brand href="/">MarketingCloudSDK iOS (v5.0.0)</a>
    
    
</h4>


                </div>
            </div>

            <div class=row-fluid>
                
                
                    <div id=navigation class=span2>
                        <ul class="nav nav-list">
    <li><a href="/">Home</a></li>
    
        
        

        
    
        
        

        
            
                <li class=nav-header>Get Started</li>
            
            <li data-order="3"><a href="/get-started/implement-sdk.html">Implement and Configure SDK</a></li>
        
            
            <li data-order="2"><a href="/get-started/create-apps-overview.html">Create MobilePush App</a></li>
        
            
            <li data-order="1"><a href="/get-started/apple.html">Provision Mobile App with Apple</a></li>
        
    
        
        

        
    
        
        

        
    
        
        

        
            
                <li class=nav-header>SDK Implementation</li>
            
            <li data-order="4"><a href="/sdk-implementation/sdk-migration.html">SDK Migration</a></li>
        
            
            <li data-order="5"><a href="/sdk-implementation/business-unit-switching.html">Switch Business Units</a></li>
        
    
        
        

        
            
                <li class=nav-header>Push Notifications</li>
            
            <li data-order="1"><a href="/push-notifications/push-notifications.html">Push Notifications</a></li>
        
            
            <li data-order="4"><a href="/push-notifications/rich-notifications.html">Rich Notifications</a></li>
        
            
            <li data-order="3"><a href="/push-notifications/interactive-notifications.html">Interactive Notifications</a></li>
        
            
            <li data-order="2"><a href="/push-notifications/custom-sound.html">Custom Sound</a></li>
        
            
            <li data-order="5"><a href="/push-notifications/custom-keys.html">Custom Keys</a></li>
        
    
        
        

        
            
                <li class=nav-header>User Data</li>
            
            <li data-order="1"><a href="/user-data/user-data.html">User Data Overview</a></li>
        
            
            <li data-order="2"><a href="/user-data/contact-key.html">Contact Key</a></li>
        
            
            <li data-order="6"><a href="/user-data/data-migration.html">User Data Migration</a></li>
        
            
            <li data-order="3"><a href="/user-data/tags.html">Tags</a></li>
        
            
            <li data-order="4"><a href="/user-data/attributes.html">Attributes</a></li>
        
    
        
        

        
            
                <li class=nav-header>OpenDirect</li>
            
            <li data-order="4"><a href="/opendirect/opendirect.html">OpenDirect</a></li>
        
    
        
        

        
            
                <li class=nav-header>Location Services</li>
            
            <li data-order="1"><a href="/location/geolocation-overview.html">Geofence and Beacon Messaging</a></li>
        
            
            <li data-order="2"><a href="/location/geolocation.html">Background Location Updates</a></li>
        
    
        
        

        
            
                <li class=nav-header>Inbox</li>
            
            <li data-order="1"><a href="/inbox/inbox.html">Inbox</a></li>
        
    
        
        

        
            
                <li class=nav-header>Analytics</li>
            
            <li data-order="2"><a href="/analytics/personalization-collect.html">Personalization Builder and Collect API Integration</a></li>
        
            
            <li data-order="1"><a href="/analytics/analytics.html">Analytics</a></li>
        
    
        
        

        
    
        
        

        
            
                <li class=nav-header>Troubleshooting</li>
            
            <li data-order="2"><a href="/trouble/multiple-push-sdks.html">Multiple Push SDKs Troubleshooting</a></li>
        
            
            <li data-order="1"><a href="/trouble/ios-debugging.html">iOS Debugging</a></li>
        
    
        
        

        
    
        
        

        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class=divider></li> first to break up the content. -->
</ul>

                    </div>

                    <div id=content class=span10>
                        <div class=page-header>
    <h2>Inbox</h2>
</div>

<p>Inbox Message functionality allows you to send alerts along with an inbox message or just an inbox message.</p>

<p>For Inbox-only Messages, the MarketingCloudSDK downloads new messages each time your app comes into the foreground or any time you ask the SDK to refresh messages.</p>

<p>If your application includes basic inbox UI requirements, consider using the built-in support of MarketingCloudSDK.</p>

<p>The SDK provides a UITableView datasource for you to use in a UIViewController to display the Inbox-only messages sent from Marketing Cloud. The UIViewController you create essentially creates an inbox in your app to display these messages. The SDK adds these messages to the datasource after downloading. The app does not display alerts for these messages.</p>

<p>Additionally, the MarketingCloudSDK provides a very basic UITableView delegate to manage the selection of rows in your tableview. Otherwise, the application must implement a UITableView delegate.</p>

<p>This example includes a simple implementation of an inbox using the MarketingCloudSDK as datasource and delegate:
<script src="https://gist.github.com/eca779c4ee8893aecd25d237a40626f0.js"></script>
<script src="https://gist.github.com/4e6c3910935f6ccab2845091837d6474.js"></script></p>

<p>For additional control, presentation and usability, implement your own datasource and delegate using the support offered by the SDK.</p>

<p>The SDK provides many additional methods for fully customizing the behavior of your UITableView.</p>

<ul>
  <li>To populate your own datasource array, use sfmc_getAllMessages to return messages from Marketing Cloud. Messages are dictionaries of attributes and can be inspected to determine what information to use in your user interface.</li>
  <li>To mark a message as read, use -sfmc_markMessageRead:</li>
  <li>To reload messages from the server, use sfmc_refreshMessages</li>
</ul>

<h2 id="track-inbox-message-opens">Track Inbox Message Opens</h2>

<p>You can also track analytics for Inbox messages. Call trackInboxOpenEvent() to send the open analytic value to Marketing Cloud. We automatically provide analytic information for message downloads. Call sfmc_trackMessageOpened: with an inbox message dictionary to record the analytic.</p>

<script src="https://gist.github.com/b4117533046f2f86e917e1d8eda4f9e6.js"></script>

<script src="https://gist.github.com/63c21b8d358e0e86597dea492cca74e7.js"></script>

<p>See MarketingCloudSDK+InboxMessages.h for more information.</p>

<h2 id="cloudpage-alerts">CloudPage Alerts</h2>
<p>The CloudPage Inbox customized push message (Alert+Inbox) contains a URL in the payload. Marketing Cloud must enable the account using this functionality with access to both MobilePush and CloudPages to successfully create and send CloudPage push messages.</p>

<p>Enable inbox in your configuration file using the inbox:true value.</p>

<p>The MarketingCloudSDK opens this URL when the message is tapped using a SFSafariViewController.</p>

<p>Override the built-in web view handling of the OpenDirect URL by implementing the MarketingCloudSDKInboxMessagesNotificationHandlerDelegate protocol.</p>

<p>In the class that handles the override, make sure to adhere to the protocol. Use this AppDelegate sample as an example.</p>

<script src="https://gist.github.com/0f39ddd4004118bfee64f2d53c68c88e.js"></script>

<script src="https://gist.github.com/22e93c290c396452f2d12b64e23f2702.js"></script>

<p>Somewhere in the class that implements this protocol, set the SDKâ€™s delegate handler.
<script src="https://gist.github.com/18f5292e1fefc3ebdff61cf13757b668.js"></script>
<script src="https://gist.github.com/c534c46e9e9d7f40dec68e1a23bb6fb0.js"></script>
Next, implement the required protocol methods to override the built-in functionality.
<script src="https://gist.github.com/cb67e790b18a9f37632c845d7f03514d.js"></script>
<script src="https://gist.github.com/a25998c1062819d1bc3851c17de191d4.js"></script></p>

<p>See MarketingCloudSDK+InboxMessages.h for more information.</p>


                    </div>
                
            </div>

            

            <div class=row-fluid>
                <div id=footer class=span12>
                    Documentation for <a href="https://github.com/ExactTarget/JB4A-SDK-iOS" target="_blank">MarketingCloudSDK iOS (v5.0.0)</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>

        
            <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-82902574-4', 'auto');
  ga('send', 'pageview');
</script>

        
    </body>
</html>
