<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>MarketingCloudSDK iOS (v5.0.0) : Attributes</title>
        <meta name="description" content="">

        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class=row-fluid>
                <div id=header class=span12>
                    <h4><a class=brand href="/">MarketingCloudSDK iOS (v5.0.0)</a>
    
    
</h4>


                </div>
            </div>

            <div class=row-fluid>
                
                
                    <div id=navigation class=span2>
                        <ul class="nav nav-list">
    <li><a href="/">Home</a></li>
    
        
        

        
    
        
        

        
            
                <li class=nav-header>Get Started</li>
            
            <li data-order="3"><a href="/get-started/implement-sdk.html">Implement and Configure SDK</a></li>
        
            
            <li data-order="2"><a href="/get-started/create-apps-overview.html">Create MobilePush App</a></li>
        
            
            <li data-order="1"><a href="/get-started/apple.html">Provision Mobile App with Apple</a></li>
        
    
        
        

        
    
        
        

        
    
        
        

        
            
                <li class=nav-header>SDK Implementation</li>
            
            <li data-order="4"><a href="/sdk-implementation/sdk-migration.html">SDK Migration</a></li>
        
            
            <li data-order="5"><a href="/sdk-implementation/business-unit-switching.html">Switch Business Units</a></li>
        
    
        
        

        
            
                <li class=nav-header>Push Notifications</li>
            
            <li data-order="1"><a href="/push-notifications/push-notifications.html">Push Notifications</a></li>
        
            
            <li data-order="4"><a href="/push-notifications/rich-notifications.html">Rich Notifications</a></li>
        
            
            <li data-order="3"><a href="/push-notifications/interactive-notifications.html">Interactive Notifications</a></li>
        
            
            <li data-order="2"><a href="/push-notifications/custom-sound.html">Custom Sound</a></li>
        
    
        
        

        
            
                <li class=nav-header>User Data</li>
            
            <li data-order="1"><a href="/user-data/user-data.html">User Data</a></li>
        
            
            <li data-order="2"><a href="/user-data/contact-key.html">Contact Key</a></li>
        
            
            <li data-order="6"><a href="/user-data/data-migration.html">User Data Migration</a></li>
        
            
            <li data-order="3"><a href="/user-data/tags.html">Tags</a></li>
        
            
            <li data-order="4"><a href="/user-data/attributes.html">Attributes</a></li>
        
    
        
        

        
            
                <li class=nav-header>OpenDirect</li>
            
            <li data-order="4"><a href="/opendirect/opendirect.html">OpenDirect</a></li>
        
    
        
        

        
            
                <li class=nav-header>Location Services</li>
            
            <li data-order="3"><a href="/location/add-beacons.html">Beacons</a></li>
        
            
            <li data-order="1"><a href="/location/geolocation-overview.html">Overview</a></li>
        
            
            <li data-order="2"><a href="/location/geolocation.html">Background Location Updates</a></li>
        
    
        
        

        
            
                <li class=nav-header>Inbox</li>
            
            <li data-order="1"><a href="/inbox/inbox.html">Inbox</a></li>
        
            
            <li data-order="2"><a href="/inbox/cloudpage-push-overview.html">CloudPage Alert Overview</a></li>
        
    
        
        

        
            
                <li class=nav-header>Analytics</li>
            
            <li data-order="2"><a href="/analytics/personalization-collect.html">Personalization Builder and Collect API Integration</a></li>
        
            
            <li data-order="1"><a href="/analytics/analytics.html">Analytics</a></li>
        
    
        
        

        
            
                <li class=nav-header>Feature Implementation</li>
            
            <li data-order="5"><a href="/features/custom-keys.html">Custom Keys</a></li>
        
    
        
        

        
            
                <li class=nav-header>Troubleshooting</li>
            
            <li data-order="2"><a href="/trouble/multiple-push-sdks.html">Multiple Push SDKs Troubleshooting</a></li>
        
            
            <li data-order="1"><a href="/trouble/ios-debugging.html">iOS Debugging</a></li>
        
    
        
        

        
    
        
        

        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class=divider></li> first to break up the content. -->
</ul>

                    </div>

                    <div id=content class=span10>
                        <div class=page-header>
    <h2>Using Attributes</h2>
</div>

<p>Attributes contain information used to describe different aspects about a contact. For example, the attribute “FavoriteTeamName” can contain a string value with the name of the favorite sports team for that contact. Add any attributes you set with the SDK to your Marketing Cloud contact record in advance so Marketing Cloud can connect the values sent by the SDK to the correct contact fields. Attribute names assigned in your mobile app must maintain a 1:1 relationship with attributes stored in the Marketing Cloud to ensure segmentation and messaging activities use correct data values.</p>

<p><br />
 <img class="img-responsive" src="/assets/Attributes_Step3.png" /><br />
<br /></p>

<p>The SDK will send changes to Tags to the Marketing Cloud with a REST call one minute after the first change to any Marketing Cloud data.  If the REST call fails (no network for example), then it will retry in one minute intervals until the app is suspended.  If the send is unsuccessful before the app is suspended, the data will be sent the next time the app is opened.  It will take up to 5 minutes for this value to be recorded in the Contact record once the REST call is made by the SDK.</p>

<p>We don’t allow attribute names from this list because they overlap with the names used by the contact record. Check the BOOL return value to determine if Marketing Cloud accepted your attribute to be sent.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>addressId
alias
apId
backgroundRefreshEnabled
badge
channel
contactId
contactKey
createdBy
createdDate
customObjectKey
device
deviceId
deviceType
gcmSenderId
hardwareId
isHonorDst
lastAppOpen
lastMessageOpen
lastSend
locationEnabled
messageOpenCount
modifiedBy
modifiedDate
optInDate
optInMethodId
optInStatusId
optOutDate
optOutMethodId
optOutStatusId
platform
platformVersion
providerToken
proximityEnabled
pushAddressExtensionId
pushApplicationId
sdkVersion
sendCount
source
sourceObjectId
status
systemToken
timezone
utcOffset
</code></pre></div></div>
<p>Setting an attribute updates the value of an existing attribute on the contact record. We trim leading and trailing blanks from attribute values and names.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Set an attribute
BOOL success = [[MarketingCloudSDK sharedInstance] sfmc_setAttributeNamed:@"FavoriteTeamName" value:@"favoriteTeamName"];
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Set an attribute

let success: Bool = MarketingCloudSDK.sharedInstance().sfmc_setAttributeNamed("FavoriteTeamName", value: "favoriteTeamName")
</code></pre></div></div>

<p>You cannot use the SDK to remove attributes from the contact record. However, you can stop sending the attribute to Marketing Cloud by using the clear method. This method does not remove or change the value on the contact record in Marketing Cloud.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Clear an attribute
[[MarketingCloudSDK sharedInstance] sfmc_clearAttributeNamed:@"FavoriteTeamName"];
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Clear an attribute

MarketingCloudSDK.sharedInstance().sfmc_clearAttributeNamed("FavoriteTeamName")
</code></pre></div></div>

<p>The SDK does not retrieve attributes from the contact record. However, you can retrieve a list of all the attributes you saved locally using the setter.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Get all attributes
// Returns a dictionary of key-value pairs (key:attribute name, value: attribute value)
NSDictionary *attributes = [[MarketingCloudSDK sharedInstance] sfmc_attributes];
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Get all attributes
// Returns a dictionary of key-value pairs (key:attribute name, value: attribute value)

let attributes = MarketingCloudSDK.sharedInstance().sfmc_attributes()
</code></pre></div></div>

<p>Find additional convenience methods to add and clear arrays of attributes in <em>MarketingCloudSDK+Base.h</em>.</p>

<blockquote>
  <p>The SDK sends changes to user and device information to Marketing Cloud with a REST call one minute after the first change to any Marketing Cloud data. If the REST call fails due to lack of network or a similar reason, the SDK retries the REST call in one-minute intervals until the app is suspended. If the send is unsuccessful before the app is suspended, the data sends the next time the app is opened. Marketing Cloud can take up to 5 minutes to record this value in the contact record once the SDK makes the REST call.</p>
</blockquote>


                    </div>
                
            </div>

            

            <div class=row-fluid>
                <div id=footer class=span12>
                    Documentation for <a href="https://github.com/ExactTarget/JB4A-SDK-iOS" target="_blank">MarketingCloudSDK iOS (v5.0.0)</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>

        
            <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-82902574-4', 'auto');
  ga('send', 'pageview');
</script>

        
    </body>
</html>
